{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n\nconst API_URL = 'https://pixabay.com/api/';\nconst API_KEY = '41812412-8184544d67aaee5dc545e6a16';\nconst url = `${API_URL}?key=${API_KEY}`;\n\nfunction fetchData(searchValue) {\n  return fetch(`${url}&q=${searchValue}`)\n    .then(resp => {\n      if (!resp.ok) {\n        throw new Error(resp.statusText);\n      }\n      return resp.json();\n    })\n}\n\nconst searchForm = document.querySelector('.search-form')\nconst gallery = document.querySelector('.gallery')\n\nsearchForm.addEventListener(\"submit\", handleSearch)\n\nfunction handleSearch(event) {\n  event.preventDefault()\n\n  const form = event.currentTarget;\n  const searchValue = form.elements.query.value;\n\n  fetchData(searchValue).then(render).catch(handleError);\n}\n\nfunction render(data) {\n  gallery.innerHTML = createMarkup(data.hits);\n}\n\n  function handleError(error) {\n    alert(\n      'Sorry, there are no images matching your search query. Please try again!'\n    );\n    console.error(error);\n  }\n\n  function createMarkup(arr) {\n    return arr.map(\n      ({\n        largeImageURL,\n        index,\n        webformatURL,\n        tags,\n        likes,\n        views,\n        downloads,\n        comments,\n      }) => `<li class=\"gallery-item\">\n        <a href=\"${largeImageURL}\" target=\"_blank\">\n        <img class=\"gallery-image\" hits-index=\"${index}\" src=\"${webformatURL}\" alt=\"${tags}\">\n            <ul class=\"gallery-item-description\">\n                <li>Likes: ${likes}</li>\n                <li>Views: ${views}</li>\n                <li>Downloads: ${downloads}</li>\n                <li>Comments: ${comments}</li>\n            </ul>\n        </a>\n    </li>`\n    ).join('');\n  }"],"names":["API_URL","API_KEY","url","fetchData","searchValue","resp","searchForm","gallery","handleSearch","event","render","handleError","data","createMarkup","error","arr","largeImageURL","index","webformatURL","tags","likes","views","downloads","comments"],"mappings":"0uBAMA,MAAMA,EAAU,2BACVC,EAAU,qCACVC,EAAM,GAAGF,SAAeC,IAE9B,SAASE,EAAUC,EAAa,CAC9B,OAAO,MAAM,GAAGF,OAASE,GAAa,EACnC,KAAKC,GAAQ,CACZ,GAAI,CAACA,EAAK,GACR,MAAM,IAAI,MAAMA,EAAK,UAAU,EAEjC,OAAOA,EAAK,MAClB,CAAK,CACL,CAEA,MAAMC,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAU,SAAS,cAAc,UAAU,EAEjDD,EAAW,iBAAiB,SAAUE,CAAY,EAElD,SAASA,EAAaC,EAAO,CAC3BA,EAAM,eAAgB,EAGtB,MAAML,EADOK,EAAM,cACM,SAAS,MAAM,MAExCN,EAAUC,CAAW,EAAE,KAAKM,CAAM,EAAE,MAAMC,CAAW,CACvD,CAEA,SAASD,EAAOE,EAAM,CACpBL,EAAQ,UAAYM,EAAaD,EAAK,IAAI,CAC5C,CAEE,SAASD,EAAYG,EAAO,CAC1B,MACE,0EACN,EACI,QAAQ,MAAMA,CAAK,CACpB,CAED,SAASD,EAAaE,EAAK,CACzB,OAAOA,EAAI,IACT,CAAC,CACC,cAAAC,EACA,MAAAC,EACA,aAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,UAAAC,EACA,SAAAC,CACR,IAAY;AAAA,mBACOP;AAAA,iDAC8BC,WAAeC,WAAsBC;AAAA;AAAA,6BAEzDC;AAAA,6BACAC;AAAA,iCACIC;AAAA,gCACDC;AAAA;AAAA;AAAA,UAIhC,EAAM,KAAK,EAAE,CACb"}